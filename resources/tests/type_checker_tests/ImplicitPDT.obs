shared contract C {
    contract T {
        state S1 {}
        state S2 {}
    }

    transaction t1(T b) {
        return;
    }

    transaction t2() returns T {
        return new T();
    }
}

main contract UsesC {
    const C f;

    transaction t() {
        f.T x = f.t2();
        f.t1(x);
    }
}